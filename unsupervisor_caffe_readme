run tip 

run sh 
111.

run https://blog.csdn.net/zllljf/article/details/81670143 
add python layer model to envy path ,creat a .pth file at python path 
/usr/local/lib/python2.7/dist-packages



222..

Creating layer norml7
F1127 16:18:01.951212 24503 layer_factory.hpp:81] Check failed: registry.count(type) == 1 (0 vs. 1) Unknown layer type: Norm (known types: AbsVal, Accuracy, ArgMax, BNLL, BatchNorm, BatchReindex, Bias, Clip, Concat, ContrastiveLoss, Convolution, Crop, Data, Deconvolution, Dropout, DummyData, ELU, Eltwise, Embed, EuclideanLoss, Exp, Filter, Flatten, HDF5Data, HDF5Output, HingeLoss, Im2col, ImageData, InfogainLoss, InnerProduct, Input, LRN, LSTM, LSTMUnit, Log, MVN, MemoryData, MultinomialLogisticLoss, PReLU, Parameter, Pooling, Power, Python, RNN, ReLU, Reduction, Reshape, SPP, Scale, Sigmoid, SigmoidCrossEntropyLoss, Silence, Slice, Softmax, SoftmaxWithLoss, Split, Swish, TanH, Threshold, Tile, WindowData)


can not find Norm so change to MVN

3. 
change the prototxt the loss layer ,:no attribute ,change the “lqlosslayer” to
the “class” name of python file  : “truple elucidedistance”??



###install caffe docker 

https://blog.csdn.net/diana_z/article/details/97376691

ok 

https://blog.csdn.net/Diana_Z/article/details/100011628



docker stop all container

stop
docker stop $(docker ps -aq) 
delete
docker rm $(docker ps -aq) 



docker run --gpus all  -it --name caffe -v /media/liang/ssd1/UCF:/opt/data --net host bvlc/caffe:gpu /bin/bash





docker attach container

docker start  container



export PYTHONPATH=/opt/data:$PYTHONPATH 



if you compline the caffe 
result have some problem 


at the python input layer python file 
change
#import matplotlib.pyplot as plt

to 

import matplotlib as plt



pip2 uninstall protobuf
pip2 install protobuf==2.6.1


create new image

docker commit -m="caffe_cpu" -a="helloliang" 739b306f8be4 helloliang/unsupervisor:cpu


or 

sudo docker commit caffe_net  helloliang/unsupervisor_jupyter:gpu

jupyter-notebook --no-browser --ip 0.0.0.0 --port=7000 --allow-root


docker run  -it --name caffe_cpu -v /media/liang/ssd2:/opt/data --net host helloliang/unsupervisor:cpu /bin/bash





docker install

remove old one

sudo apt-get remove docker docker-engine docker.io containerd runc


sudo apt install apt-transport-https ca-certificates curl software-properties-common

curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -

sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu bionic stable"

 apt-cache search docker-ce


sudo apt install docker-ce








1.docker pull hulkinbrain/docker-opencv2



2. docker pull helloliang/unsupervisor:gpu





docker push and pull 

docker images
docker
sudo docker tag helloliang/unsupervisor_jupyter:gpu   helloliang/unsupervisor:gpu_jupyter

sudo docker login -u "helloliang" -p "137b33o5"

docker push helloliang/unsupervisor:gpu_jupyter




